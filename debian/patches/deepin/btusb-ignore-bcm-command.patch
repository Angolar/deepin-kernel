commit f326e550fbe44cc7d11fa7f47a2c8832cfd07fcc
Author: Yang Bo <yangbo@deepin.com>
Date:   Mon Jun 26 16:20:26 2017 +0800

    btusb: ignore reported support command [0x0a5c:0x2e16]
    
    Signed-off-by: Yang Bo <yangbo@deepin.com>

diff --git a/drivers/bluetooth/btusb.c b/drivers/bluetooth/btusb.c
index dd220fad3..431b0b741 100644
--- a/drivers/bluetooth/btusb.c
+++ b/drivers/bluetooth/btusb.c
@@ -63,8 +63,10 @@ static struct usb_driver btusb_driver;
 #define BTUSB_BCM2045		0x40000
 #define BTUSB_IFNUM_2		0x80000
 #define BTUSB_CW6622		0x100000
+#define BTUSB_BTBCM_BROKEN	0x200000
 
 static const struct usb_device_id btusb_table[] = {
+	{ USB_DEVICE(0x0a5c, 0x21e6), .driver_info = BTUSB_BTBCM_BROKEN },
 	/* Generic Bluetooth USB device */
 	{ USB_DEVICE_INFO(0xe0, 0x01, 0x01) },
 
@@ -2910,6 +2912,10 @@ static int btusb_probe(struct usb_interface *intf,
 		set_bit(HCI_QUIRK_BROKEN_LOCAL_COMMANDS, &hdev->quirks);
 	}
 
+	if (id->driver_info & BTUSB_BTBCM_BROKEN) {
+		set_bit(HCI_QUIRK_BROKEN_LOCAL_COMMANDS, &hdev->quirks);
+	}
+
 	if (id->driver_info & BTUSB_INTEL_BOOT) {
 		hdev->manufacturer = 2;
 		set_bit(HCI_QUIRK_RAW_DEVICE, &hdev->quirks);
