commit dad11d974ab63be219308bdab4cfe462f1b47776
Author: Yang Bo <yangbo@deepin.com>
Date:   Fri Sep 9 16:31:25 2016 +0800

    drm/radeon/cik: fix CP jump table size
    
    Align to the jump table offset. May fix hangs on some
    asics with GFX PG enabled.
    
    Reviewed-by: Nicolai HÃ¤hnle <nicolai.haehnle@amd.com>
    Acked-by: Tom St Denis <tom.stdenis@amd.com>
    Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
    Signed-off-by: Yang Bo <yangbo@deepin.com>

diff --git a/drivers/gpu/drm/radeon/cik.c b/drivers/gpu/drm/radeon/cik.c
index f81fb26..fe23a67 100644
--- a/drivers/gpu/drm/radeon/cik.c
+++ b/drivers/gpu/drm/radeon/cik.c
@@ -8542,7 +8542,7 @@ static int cik_startup(struct radeon_device *rdev)
 		}
 	}
 	rdev->rlc.cs_data = ci_cs_data;
-	rdev->rlc.cp_table_size = CP_ME_TABLE_SIZE * 5 * 4;
+	rdev->rlc.cp_table_size = ALIGN(CP_ME_TABLE_SIZE * 5 * 4, 2048); /* CP JT */
 	r = sumo_rlc_init(rdev);
 	if (r) {
 		DRM_ERROR("Failed to init rlc BOs!\n");
