commit ac2b34de2c57e4bf218c936f68af7719992d9cf9
Author: Yang Bo <yangbo@deepin.com>
Date:   Mon Jul 10 13:06:54 2017 +0800

    RTL8188CE slow speed
    
    Signed-off-by: Yang Bo <yangbo@deepin.com>

diff --git a/drivers/net/wireless/realtek/rtlwifi/rtl8192c/dm_common.c b/drivers/net/wireless/realtek/rtlwifi/rtl8192c/dm_common.c
index 316be5ff6..a56b77224 100644
--- a/drivers/net/wireless/realtek/rtlwifi/rtl8192c/dm_common.c
+++ b/drivers/net/wireless/realtek/rtlwifi/rtl8192c/dm_common.c
@@ -575,10 +575,13 @@ void rtl92c_dm_write_dig(struct ieee80211_hw *hw)
 		dm_digtable->pre_igvalue = 0x17;
 		return;
 	}
-	dm_digtable->cur_igvalue -= 1;
+	dm_digtable->cur_igvalue += 2;
 	if (dm_digtable->cur_igvalue < DM_DIG_MIN)
 		dm_digtable->cur_igvalue = DM_DIG_MIN;
 
+	if (dm_digtable->cur_igvalue > DM_DIG_MAX)
+		dm_digtable->cur_igvalue = DM_DIG_MAX;
+
 	if (dm_digtable->pre_igvalue != dm_digtable->cur_igvalue) {
 		rtl_set_bbreg(hw, ROFDM0_XAAGCCORE1, 0x7f,
 			      dm_digtable->cur_igvalue);
diff --git a/drivers/net/wireless/realtek/rtlwifi/rtl8192c/phy_common.c b/drivers/net/wireless/realtek/rtlwifi/rtl8192c/phy_common.c
index 27e3d5f9c..876543f2a 100644
--- a/drivers/net/wireless/realtek/rtlwifi/rtl8192c/phy_common.c
+++ b/drivers/net/wireless/realtek/rtlwifi/rtl8192c/phy_common.c
@@ -1601,7 +1601,7 @@ void rtl92c_phy_set_io(struct ieee80211_hw *hw)
 		break;
 	case IO_CMD_PAUSE_BAND0_DM_BY_SCAN:
 		rtlphy->initgain_backup.xaagccore1 = dm_digtable->cur_igvalue;
-		dm_digtable->cur_igvalue = 0x17;
+		dm_digtable->cur_igvalue = 0x37;
 		rtl92c_dm_write_dig(hw);
 		break;
 	default:
