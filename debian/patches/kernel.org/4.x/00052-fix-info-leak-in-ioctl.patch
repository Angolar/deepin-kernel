commit 82ff40ca1720bb81fc826af08c7613f03927f298
Author: Yang Bo <yangbo@linuxdeepin.com>
Date:   Sun Jan 3 21:12:43 2016 +0800

    staging/dgnc: fix info leak in ioctl
    
    (commit cbdb967af3d54993f5814f1cee0ed311a055377d upstream.)
    
    The dgnc_mgmt_ioctl() code fails to initialize the 16 _reserved bytes of
    struct digi_dinfo after the ->dinfo_nboards member. Add an explicit
    memset(0) before filling the structure to avoid the info leak.
    
    Signed-off-by: Salva Peir√≥ <speirofr@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    
    (cherry picked from commit 4b6184336ebb5c8dc1eae7f7ab46ee608a748b05)
    CVE-2015-7885
    BugLink: http://bugs.launchpad.net/bugs/1509565
    Signed-off-by: Andy Whitcroft <apw@canonical.com>
    Acked-by: Chris J Arges <chris.j.arges@canonical.com>
    Acked-by: Tim Gardner <tim.gardner@canonical.com>
    Signed-off-by: Luis Henriques <luis.henriques@canonical.com>
    Signed-off-by: Yang Bo <yangbo@linuxdeepin.com>

diff --git a/drivers/staging/dgnc/dgnc_mgmt.c b/drivers/staging/dgnc/dgnc_mgmt.c
index b13318a..883e2a8 100644
--- a/drivers/staging/dgnc/dgnc_mgmt.c
+++ b/drivers/staging/dgnc/dgnc_mgmt.c
@@ -115,6 +115,7 @@ long dgnc_mgmt_ioctl(struct file *file, unsigned int cmd, unsigned long arg)
 
 		spin_lock_irqsave(&dgnc_global_lock, flags);
 
+		memset(&ddi, 0, sizeof(ddi));
 		ddi.dinfo_nboards = dgnc_NumBoards;
 		sprintf(ddi.dinfo_version, "%s", DG_PART);
 
